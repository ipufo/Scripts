--Custom Chat
local Player, ReplicatedStorage = game.Players.LocalPlayer, game.ReplicatedStorage
local GasterTalk = {
    [1] = 761473114,
    [2] = 927634408,
    [3] = 927635476,
    [4] = 927635695,
    [5] = 927636725,
    [6] = 927636984
}
Player.Chatted:Connect(function(Message)
    local SplitMessageTable = Message:split(" ")

    for Index = 1, #SplitMessageTable do
        for Characters = 1, #SplitMessageTable[Index] do
            task.wait(.05)
            game.ReplicatedStorage.Damage11Sans:FireServer(Player.Character.Humanoid, Player.Character.Humanoid.RootPart.CFrame * CFrame.new(0, -5, 0), 0, 0, Vector3.zero, 9e999, "rbxassetid://" .. GasterTalk[math.random(1, 6)], 1, 10)
        end
        task.wait(.1)
    end
end)



--[[ Unballenced spec
    -- Spec mode -- 
    e - barrage that do 7.5 dmg
    r - kars punch that make them go space
    t - ripoff reversal red
    f - gun that does 20 dmg
    g - pose
    h - beat and shoot cum
    z - nail glide
    v - mouse tp
    j - switch to stand mode
    -- stand mode --
    e - stand barrage that do 15 dmg and has teh anim (just further away same anim)
    r - teh heavy punch that sends them across the map and does cool player strong punch effect
    t - stw uppercut that banishs them
    y - white ball throw that whoever gets caught by it gets stuck in it (iggy animation)
    f - move that uses ger ground slam and slams the ground and uppercuts them doing inf dmg and sends them flying (uses both stand and spec)
    h = beat and cum
    v - mouse tp
    j - switch back to spec
]]

local RunService, UserInputService, TweenService = game.RunService, game.UserInputService, game.TweenService
local Player, ReplicatedStorage = game.Players.LocalPlayer, game.ReplicatedStorage
local NailGlide = false
local Running = true
local StandMode = false
local Posing = false
local Barrage = false
local ReversalRed = false
local AudioValues, LocalPlayer = {
    Audios = {}
}, game.Players.LocalPlayer
function AudioValues:PlayAudio(AudioId, StartPosition, Loop, Pitch, CFrame)
    if AudioId then
        task.spawn(function()
            local Audio = Instance.new("Sound")
            Audio.Parent = game.ReplicatedStorage
            Audio.SoundId = "rbxassetid://" .. AudioId
            game.ContentProvider:PreloadAsync({
                Audio
            })
            repeat
                game.RunService.Stepped:Wait()
            until Audio.TimeLength and Audio.TimeLength > 0
            local TimeLength = Audio.TimeLength
            Audio:Destroy()
            for Index, Audio in pairs(self.Audios) do
                self.Audios["rbxassetid://" .. AudioId] = if ("rbxassetid://" .. AudioId) == Index then nil else Audio
            end
            local function FireRemote()
                if LocalPlayer.Character:FindFirstChild("Humanoid") and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and game.Lighting.TS.Value == false and self.Audios["rbxassetid://" .. AudioId] ~= nil then
                    for Index = 1, 6 do
                        game.ReplicatedStorage.Damage11Sans:FireServer(LocalPlayer.Character.Humanoid, CFrame or LocalPlayer.Character.HumanoidRootPart.CFrame, 0, 0, Vector3.zero, math.huge, "rbxassetid://" .. AudioId, Pitch or 1, .25)
                    end
                end
            end
            if TimeLength <= 0.69525 then
                if type(self.Audios["rbxassetid://" .. AudioId]) ~= nil then
                    FireRemote()
                else
                    return nil
                end
            else
                self.Audios["rbxassetid://" .. AudioId] = {
                    Loop = true or Loop
                }
                local function PlayAudio()
                    if self.Audios["rbxassetid://" .. AudioId] ~= nil then
                        self.Audios["rbxassetid://" .. AudioId].Time = tick() + (-StartPosition or 0)
                        for Index = 1, math.ceil((TimeLength / 0.69525) / (Pitch or 1)) do
                            if not Audio then
                                break
                            end
                            if type(self.Audios["rbxassetid://" .. AudioId]) == nil then
                                break
                            else
                                FireRemote()
                                task.wait(0.69525)
                            end
                        end
                        if type(self.Audios["rbxassetid://" .. AudioId]) ~= nil and self.Audios["rbxassetid://" .. AudioId].Loop then
                            PlayAudio()
                        else
                            self.Audios["rbxassetid://" .. AudioId] = nil                    
                        end
                    else
                        return
                    end
                end
                PlayAudio()
            end
        end)
    end
end
function AudioValues:StopAudio(AudioId)
    self.Audios["rbxassetid://" .. AudioId] = nil
    self = {}
end
workspace.Effects.DescendantAdded:Connect(function(Sound)
    task.wait(0.01)
    if Sound:IsA("Sound") and AudioValues.Audios[Sound.SoundId] ~= nil and AudioValues.Audios[Sound.SoundId]["Time"] then
        Sound.TimePosition = tick() - AudioValues.Audios[Sound.SoundId]["Time"]
    end
end)
function objectinsert(path, permaornot, cframe, size)
    if permaornot then
        game:GetService("ReplicatedStorage"):WaitForChild("StarPlatinumStuff"):WaitForChild("SP3"):FireServer("Hit1", {Player.Character.Humanoid, Vector3.new(), cframe, Vector3.new(), 0, 0, 0, path, nil, math.huge, 9e99}, {workspace.Music:Play()}, {9e99})
    else
        game:GetService("ReplicatedStorage"):WaitForChild("StarPlatinumStuff"):WaitForChild("SP3"):FireServer("Hit1", {Player.Character.Humanoid, Vector3.new(), cframe, Vector3.new(), 0, 0, 0, path, "Effect1", size or 2, 1}, {workspace.Music:Play()}, {9e99})
    end
end
function PlayAnimation(Id, Action)
    local Animation = Instance.new("Animation")
    Animation.AnimationId = "rbxassetid://" .. Id
    local Playeranim = Player.Character.Humanoid:LoadAnimation(Animation)
    Playeranim.Priority = Action
    return Playeranim
end
function CharacterAdded()
    local RunningAnim = PlayAnimation(5171408373, Enum.AnimationPriority.Action3)
    local IdleAnim = PlayAnimation(5749788698, Enum.AnimationPriority.Action3)
    local IdleAnim2 = PlayAnimation(5577327605, Enum.AnimationPriority.Action3)
    Player.Character.Humanoid.Running:Connect(function(Speed)
        if not Barrage then
            if Speed > 0.1 then
                RunningAnim:Play()
                IdleAnim:Stop()
            else
                IdleAnim:Play()
                IdleAnim2:Play()
                RunningAnim:Stop()
            end
        end
    end)
    ReplicatedStorage.StandsSlam:FireServer(Player.Character.Humanoid, 0 * math.huge)
    ReplicatedStorage.Deflect:FireServer(true)
    ReplicatedStorage.Block:FireServer(true)
    for Index, StandPart in pairs(Player.Character.Stand:GetChildren()) do
        if StandPart.Name:match("Leg") then
            --StandPart:Destroy()
            --StandPart:BreakJoints()
        end
    end
    for Index, StandRemover in pairs(game.Lighting:GetChildren()) do
        for Index, StandScript in pairs(Player.Character:GetChildren()) do
            if StandRemover:IsA("LocalScript") and StandScript:IsA("LocalScript") and StandRemover.Name == StandScript.Name then
                StandScript:Destroy()
            end
        end
    end
end
function PlayShortAudio(Id, pitch, volume)
    ReplicatedStorage.Damage11Sans:FireServer(Player.Character.Humanoid, Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, -5, 0), 0, 0, Vector3.zero, 9e999, "rbxassetid://" .. Id, pitch or 1, volume or 10)
end
function StandTransparency(Transparency)
    for Index, StandPart in pairs(Player.Character.Stand:GetDescendants()) do
        if not StandPart.Name:lower():match("humanoidrootpart")  then
            ReplicatedStorage.Transparency:FireServer(StandPart, Transparency)
        elseif StandPart.Name:match("Leg") then
            ReplicatedStorage.Transparency:FireServer(StandPart, 1)
        end
    end
end
CharacterAdded()
function BleedDamage(Target, Delay, Damage, Duration, Args)
    local Duration1 = 0
    if type(Delay) == 'number' and type(Damage) == 'number' and type(Duration) == 'number' and type(Args) == 'table' then
        task.spawn(function()
            repeat
                if Target and Delay and Damage then
                    if Damage <= 99 then
                        ReplicatedStorage.CalculatedStrike:FireServer(Target.Character.Humanoid, Target.Character.HumanoidRootPart.CFrame * CFrame.new(0, 1, 0), Damage, .1, Target.Character.HumanoidRootPart.Position, Args["Size"], "", 0, 0)
                    else
                        error("hey mr u cant do that!", 1)
                        break
                    end
                end
                task.wait(Delay)
            until Duration1 == Duration or Duration1 >= Duration
        end)
        task.spawn(function()
            repeat
                Duration1 += 1
                task.wait(1)
            until Duration1 >= Duration or Duration1 == Duration
        end)
    else
        error("wow u dum miss thing so stupid lol ezz")
    end
end
function Lerp(a, b, t)
	return a + (b - a) * t
end
function Quad(A, B, C, Time)
    local Lerp1 = A:Lerp(B, Time)
    local Lerp2 = B:Lerp(C, Time)
    local Result = Lerp1:Lerp(Lerp2, Time)
	return Result
end
function StopAnimations()
    for Index, Animation in pairs(Player.Character.Humanoid:GetPlayingAnimationTracks()) do
        Animation:Stop()
    end
end
function ContinueAllAnimations()
    for Index, Animation in pairs(Player.Character.Humanoid:GetPlayingAnimationTracks()) do
        local OGTimePosition = Animation.TimePosition
        Animation:Play()
        Animation.TimePosition = OGTimePosition
    end
end
function DestroyAllVelocity()
    for Index, Velocity in pairs(Player.Character:GetDescendants()) do
        if Velocity.ClassName:match("Body") then
            Velocity:Destroy()
            print("Found: " .. Index .. " Velocitys")
        end
    end
end
UserInputService.InputBegan:Connect(function(Input, IsTyping)
    if not IsTyping and StandMode then
        local Key = Input.KeyCode.Name
        if Key == "E" then
            local AttackPoseAnimation = PlayAnimation(4056279284, Enum.AnimationPriority.Action4)
            AttackPoseAnimation:Play()
            local BarrageAnimation = PlayAnimation(4034464064, Enum.AnimationPriority.Action4)
            BarrageAnimation:Play()
            BarrageAnimation:AdjustSpeed(2)
            Barrage = true
            task.spawn(function()
                repeat
                    local Hitbox = Instance.new("Part", workspace)
                    Hitbox.Anchored = true
                    Hitbox.Transparency = 1
                    Hitbox.Size = Vector3.new(5, 5, 15)
                    Hitbox.CanCollide = false
                    Hitbox.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -7.5)
                    local PartHitbox = workspace:GetPartsInPart(Hitbox, Params)
                    for Index, Character in pairs(PartHitbox) do
                        if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and Character.Parent.Name ~= Player.Character.Name then
                            ReplicatedStorage.Damage3:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 20, 0, Vector3.zero, 0.025, "", 0, 0)
                            ReplicatedStorage.Damage11Sans:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 0, 0, Vector3.zero, 9e999, "rbxassetid://175024455", 1, .05)
                        end
                    end
                    game.Debris:AddItem(Hitbox, .1)
                    PlayShortAudio(1538686662, 1, .2)
                    ReplicatedStorage.ULFDamage:FireServer(Player.Character.Humanoid, Player.Character.Stand["Stand Right Arm"].CFrame * CFrame.new(0, -.5, 0), 0.01, 0, Vector3.zero, 0.00001, "", 1, 1)
                    ReplicatedStorage.ULFDamage:FireServer(Player.Character.Humanoid, Player.Character.Stand["Stand Left Arm"].CFrame * CFrame.new(0, -.5, 0), 0.01, 0, Vector3.zero, 0.00001, "", 1, 1)
                    task.wait(.05)
                until not Barrage
            end)
        elseif Key == "R" then
            local TEHHeavy = PlayAnimation(4054266541, Enum.AnimationPriority.Action4)
            TEHHeavy:Play()
            task.wait(.6)
            PlayShortAudio(4470733598, 1.4)
            local Hitbox = Instance.new("Part", workspace)
            Hitbox.Anchored = true
            Hitbox.Transparency = 1
            Hitbox.Size = Vector3.new(5, 5, 5)
            Hitbox.CanCollide = false
            local HitTable = {}
            Hitbox.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5)
            local PartHitbox = workspace:GetPartsInPart(Hitbox, Params)
            for Index, Character in pairs(PartHitbox) do
                if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and Character.Parent.Name ~= Player.Character.Name and not table.find(HitTable, Character.Parent) then
                    table.insert(HitTable, Character.Parent)
                    ReplicatedStorage.DoppioSlam:FireServer()
                    ReplicatedStorage.Knock:FireServer(Character.Parent.Humanoid, true)
                    ReplicatedStorage.HamonSword:FireServer(Character.Parent.Humanoid, 0.00000001, .1, Player.Character.HumanoidRootPart.CFrame.LookVector * 700 + Vector3.new(0, 200, 0))
                    task.delay(6, function()
                        for Index, Table in pairs(HitTable) do
                            table.remove(HitTable, Index)
                        end
                    end)
                end
            end
            game.Debris:AddItem(Hitbox, .1)
        elseif Key == "F" then
            local CMOONSLAM = PlayAnimation(3166494872, Enum.AnimationPriority.Action4)
            CMOONSLAM:Play()
            CMOONSLAM:AdjustSpeed(2)
            task.wait(.75)
            for circlething = 1, 10 do
                objectinsert(workspace.Map["ABD Map"]["Some Old Map models"]["Meshes/rock2"], false, Player.Character.HumanoidRootPart.CFrame * CFrame.new(10 * math.sin(circlething), -5, 10 * math.cos(circlething)), 0)
            end
            PlayShortAudio(4474164416, 1.4)
            local Hitbox = Instance.new("Part", workspace)
            Hitbox.Anchored = true
            Hitbox.Transparency = 1
            Hitbox.Size = Vector3.new(10, 10, 10)
            Hitbox.CanCollide = false
            local HitTable = {}
            Hitbox.CFrame = Player.Character.HumanoidRootPart.CFrame
            local PartHitbox = workspace:GetPartsInPart(Hitbox, Params)
            for Index, Character in pairs(PartHitbox) do
                if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and Character.Parent.Name ~= Player.Character.Name and not table.find(HitTable, Character.Parent) then
                    table.insert(HitTable, Character.Parent)
                    for index = 1, 5 do
                        ReplicatedStorage.Damage11Sans:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 0, .1, Vector3.new(0, 60, 0), 9e999, "rbxassetid://8588542238", 1, 4)
                    end
                    task.delay(.75, function()
                        local UppercutAnimation = PlayAnimation(05022688512, Enum.AnimationPriority.Action4)
                        UppercutAnimation:Play()
                        UppercutAnimation:AdjustSpeed(2)
                        task.wait(.25)
                        ReplicatedStorage.HamonSword:FireServer(Character.Parent.Humanoid, 75, 40, Player.Character.HumanoidRootPart.CFrame.LookVector * 50 + Vector3.new(0, 75, 0))
                    end)
                end
            end
            game.Debris:AddItem(Hitbox, .1)
        elseif Key == "T" then
            local UppercutAnimation = PlayAnimation(3893397364, Enum.AnimationPriority.Action4)
            UppercutAnimation:Play()
            task.wait(.125)
            PlayShortAudio(491270608, 1.4)
            local Hitbox = Instance.new("Part", workspace)
            Hitbox.Anchored = true
            Hitbox.Transparency = 1
            Hitbox.Size = Vector3.new(5, 7.5, 5)
            Hitbox.CanCollide = false
            local HitTable = {}
            Hitbox.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -7.5)
            local PartHitbox = workspace:GetPartsInPart(Hitbox, Params)
            for Index, Character in pairs(PartHitbox) do
                if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and Character.Parent.Name ~= Player.Character.Name and not table.find(HitTable, Character.Parent) then
                    table.insert(HitTable, Character.Parent)
                    for index = 1, 100 do
                        objectinsert(Character.Parent.HumanoidRootPart, false, CFrame.new(2098, -214, -939))
                    end
                    ReplicatedStorage.DoppioPin:FireServer(Character.Parent.Humanoid, "bleh")
                    task.delay(6, function()
                        for Index, Table in pairs(HitTable) do
                            table.remove(HitTable, Index)
                        end
                    end)
                end
            end
            game.Debris:AddItem(Hitbox, .1)
        elseif Key == "Y" then
            local KQRBubble = PlayAnimation(3446019670, Enum.AnimationPriority.Action4)
            KQRBubble:Play()
            KQRBubble:AdjustSpeed(1.5)
            task.wait(.5)
            PlayShortAudio(1489924400)
            local CreamBall = false
            CreamBall = true
            local Hitbox = Instance.new("Part", workspace)
            Hitbox.Anchored = true
            Hitbox.Transparency = 1
            Hitbox.Size = Vector3.new(10, 10, 10)
            Hitbox.CanCollide = false
            Hitbox.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, -0.479, -1.031)
            local HitTable = {}
            local Params = OverlapParams.new()
            Params.FilterDescendantsInstances = {Player.Character}
            Params.FilterType = Enum.RaycastFilterType.Blacklist
            task.spawn(function()
                repeat
                    Hitbox.CFrame *= CFrame.new(0, 0, -1)
                    objectinsert(ReplicatedStorage.SPS.PunchImpact, false, Hitbox.CFrame, 10)
                    local PartHitbox = workspace:GetPartsInPart(Hitbox, Params)
                    for Index, Character in pairs(PartHitbox) do
                        if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and Character.Parent.Name ~= Player.Character.Name and not table.find(HitTable, Character.Parent) then
                            table.insert(HitTable, Character.Parent)
                            task.spawn(function()
                                repeat
                                    objectinsert(Character.Parent.HumanoidRootPart, false, Hitbox.CFrame)
                                    task.wait(.5)
                                until false
                            end)
                        end
                    end
                    task.wait()
                until not CreamBall
            end)
            task.delay(7, function()
                CreamBall = false
                game.Debris:AddItem(Hitbox, .1)
            end)
        end
    end
end)
UserInputService.InputBegan:Connect(function(Input, IsTyping)
    if not IsTyping then
        if Input.KeyCode.Name == "J" then
            StandMode = not StandMode
            if not StandMode then
                StandTransparency(1)
            else
                StandTransparency(0.5)
            end
        elseif Input.KeyCode.Name == "V" then
            PlayShortAudio(4556863745, 1)
            ReplicatedStorage.VampireDash:FireServer(BrickColor.new(0, 0, 0))
            Player.Character.HumanoidRootPart.CFrame = Player:GetMouse().Hit
        elseif Input.KeyCode.Name == "H" then
            PlayAnimation(252395746, Enum.AnimationPriority.Action4):Play()
            task.spawn(function()
                for index = 1, 8 do
                    PlayShortAudio(3239083228)
                    task.wait(.1)
                end
            end)
            for index = 1, 3 do
                task.spawn(function()
                    for Time = 0, 1, 1/20 do
                        local SPos = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, -1, 0).Position
                        local EPos = Player.Character.HumanoidRootPart.CFrame * CFrame.new(math.random(-5.5, 5.5), -3, math.random(-10, -5)).Position
                        local Curve = SPos:Lerp(EPos, 0.5) + Vector3.new(0, (SPos - EPos).Magnitude / 2, 0)

                        ReplicatedStorage.Damage:FireServer(Player.Character.Humanoid, CFrame.new(Quad(SPos, Curve, EPos, Time)), 0, 0, Vector3.zero, "", 0.01, Color3.new(1, 1, 1), "", 0, 0)
                    end
                end)
                task.wait(.1)
            end
        end
    end
end)
UserInputService.InputBegan:Connect(function(Input, IsTyping)
    if not IsTyping and not StandMode then
        local Key = Input.KeyCode.Name

        if Key == "F" then
            PlayAnimation(5034878966, Enum.AnimationPriority.Action4):Play()
            PlayShortAudio(846233576)
            local ULFDamageProjectile = false
            for index = 1, 1 do
                local RandomThing, RandomThingY = math.random(-2, 2) / 10, math.random(-2, 2) / 10
                local ShotFromCFrame = Player.Character.HumanoidRootPart.CFrame
                local Purple = Instance.new("Part", workspace)
                Purple.Anchored = true
                Purple.Transparency = 1
                Purple.Size = Vector3.new(10, 10, 10)
                Purple.CanCollide = false
                Purple.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(1, 2, -.5)
                ULFDamageProjectile = true
                local HitTable = {}
                task.spawn(function()
                    repeat
                        Purple.CFrame *= CFrame.new(0, 0, -2) 
                        local PartHitbox = workspace:GetPartsInPart(Purple, Params)
                        for Index, Character in pairs(PartHitbox) do
                            if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and not table.find(HitTable, Character.Parent) and Character.Parent.Name ~= Player.Character.Name then
                                table.insert(HitTable, Character.Parent)
                                BleedDamage(game.Players:GetPlayerFromCharacter(Character.Parent), .25, 99, 3, {["Size"] = 1})
                                ReplicatedStorage.Damage3:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 20, 0, Vector3.zero, 0.01, "", 0, 0)
                                ReplicatedStorage.Damage11:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 20, 0, Vector3.zero, 0.1, "rbxassetid://175024455", 1, 10)
                                task.delay(.1, function()
                                    for Index, Table in pairs(HitTable) do
                                        table.remove(HitTable, Index)
                                    end
                                end)
                            end
                        end
                        ReplicatedStorage.Damage12:FireServer(Player.Character.Humanoid, Purple.CFrame, 20, 0, Vector3.zero, 0.01, "", 0, 0)
                        ReplicatedStorage.ULFDamage:FireServer(Player.Character.Humanoid, Purple.CFrame, 20, 0, Vector3.zero, 0.01, "", 0, 0)
                        task.wait(.05)
                    until not ULFDamageProjectile
                end)
                game.Debris:AddItem(Purple, .1)
            end
            task.delay(6, function()
                ULFDamageProjectile = false
            end)
        elseif Key == "E" then
            local BarrageAnimation = PlayAnimation(3445788051, Enum.AnimationPriority.Action4)
            BarrageAnimation:Play()
            BarrageAnimation:AdjustSpeed(2)
            Barrage = true
            task.spawn(function()
                repeat
                    local Hitbox = Instance.new("Part", workspace)
                    Hitbox.Anchored = true
                    Hitbox.Transparency = 1
                    Hitbox.Size = Vector3.new(5, 5, 5)
                    Hitbox.CanCollide = false
                    Hitbox.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5)
                    local PartHitbox = workspace:GetPartsInPart(Hitbox, Params)
                    for Index, Character in pairs(PartHitbox) do
                        if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and Character.Parent.Name ~= Player.Character.Name then
                            ReplicatedStorage.Damage3:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 7.5, 0, Vector3.zero, 9e999, "", 0, 0)
                            ReplicatedStorage.Damage11Sans:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 0, 0, Vector3.zero, 9e999, "rbxassetid://175024455", 1, .05)
                        end
                    end
                    game.Debris:AddItem(Hitbox, .1)
                    ReplicatedStorage.Damage11Sans:FireServer(Player.Character.Humanoid, Player.Character["Right Arm"].CFrame * CFrame.new(0, -.5, 0), 0, 0, Vector3.zero,0.00001, "rbxassetid://5835032207", 1, 0)
                    ReplicatedStorage.Damage11:FireServer(Player.Character.Humanoid, Player.Character["Left Arm"].CFrame * CFrame.new(0, -.5, 0), 0, 0, Vector3.zero,0.00001, "rbxassetid://5835032207", 1, .2)
                    task.wait(.05)
                until not Barrage
            end)
        elseif Key == "Q" then
            local BarrageAnimation = PlayAnimation(3445788051, Enum.AnimationPriority.Action4)
            BarrageAnimation:Play()
            BarrageAnimation:AdjustSpeed(2)
            Barrage = true
            local HitTable = {}
            task.spawn(function()
                repeat
                    local Hitbox = Instance.new("Part", workspace)
                    Hitbox.Anchored = true
                    Hitbox.Transparency = 1
                    Hitbox.Size = Vector3.new(5, 5, 5)
                    Hitbox.CanCollide = false
                    Hitbox.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5)
                    local PartHitbox = workspace:GetPartsInPart(Hitbox, Params)
                    for Index, Character in pairs(PartHitbox) do
                        if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and Character.Parent.Name ~= Player.Character.Name and not table.find(HitTable, Character.Parent)then
                            ReplicatedStorage.Damage:FireServer(Player.Character.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 25, 0, Vector3.new(), "rbxassetid://3370684035", .075, Color3.new(0, 255, 0), "rbxassetid://5020631118", 1, 3)
                            game:GetService("ReplicatedStorage"):WaitForChild("StarPlatinumStuff"):WaitForChild("SP3"):FireServer("Hit1", {Character.Parent.Humanoid, Vector3.new(), CFrame.new(), Vector3.new(0, -100, 0), .1, -7.5, .1, nil, "Effect1", 2, 1}, {nil}, {9e99})
                            table.insert(HitTable, Character.Parent)
                            task.delay(.1, function()
                                for i, v in pairs(HitTable) do
                                    table.remove(HitTable, i)
                                end
                            end)
                        end
                    end
                    game.Debris:AddItem(Hitbox, .1)
                    ReplicatedStorage.Damage:FireServer(Player.Character.Humanoid, Player.Character["Right Arm"].CFrame * CFrame.new(0, -.5, 0), 0, 0, Vector3.new(), "rbxassetid://3370684035", 0.1, Color3.new(0, 255, 0), "", 0, 0)
                    ReplicatedStorage.Damage:FireServer(Player.Character.Humanoid, Player.Character["Left Arm"].CFrame * CFrame.new(0, -.5, 0), 0, 0, Vector3.new(), "rbxassetid://3370684035", 0.1, Color3.new(0, 255, 0), "", 0, 0)
                    task.wait(.05)
                until not Barrage
            end)
        elseif Key == "R" then
            local KarsPunch = PlayAnimation(3793962569, Enum.AnimationPriority.Action4)
            KarsPunch:Play()
            task.wait(.25)
            ReplicatedStorage.PlayerStrongPunch:FireServer(Vector3.new(2, 2, 2), Vector3.new(00.2, 00.2, 00.2), BrickColor.new(154))
            ReplicatedStorage.PlayerStrongPunch:FireServer(Vector3.new(0, 4, 0), Vector3.new(00.2, .2, 0.2), BrickColor.new(154))
            PlayShortAudio(7007955646, 1.5)
            local Hitbox = Instance.new("Part", workspace)
            Hitbox.Anchored = true
            Hitbox.Transparency = 1
            Hitbox.Size = Vector3.new(5, 5, 5)
            Hitbox.CanCollide = false
            local HitTable = {}
            Hitbox.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5)
            local PartHitbox = workspace:GetPartsInPart(Hitbox, Params)
            for Index, Character in pairs(PartHitbox) do
                if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and Character.Parent.Name ~= Player.Character.Name and not table.find(HitTable, Character.Parent) then
                    table.insert(HitTable, Character.Parent)
                    game.Debris:AddItem(Hitbox, .1)
                    ReplicatedStorage.Knock:FireServer(Character.Parent.Humanoid, true)
                    ReplicatedStorage.HamonSword:FireServer(Character.Parent.Humanoid, 0.00000001, .1, Player.Character.HumanoidRootPart.CFrame.LookVector * 400 + Vector3.new(0, 75, 0))
                    ReplicatedStorage.Damage11Sans:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 0, 0, Vector3.zero, 9e999, "rbxassetid://6352582283", 1, 10)
                    task.delay(6, function()
                        for Index, Table in pairs(HitTable) do
                            table.remove(HitTable, Index)
                        end
                    end)
                end
            end
        elseif Key == "T" then
            local ReversalRedAnim = PlayAnimation(3906344573, Enum.AnimationPriority.Action4)
            ReversalRedAnim:Play()
            ReversalRed = true
            task.wait(.35)
            ReversalRedAnim:AdjustSpeed(0)
            task.spawn(function()
                repeat
                    game.ReplicatedStorage.Damage12:FireServer(game.Players.LocalPlayer.Character.Humanoid, game.Players.LocalPlayer.Character["Right Arm"].CFrame * CFrame.new(0, -.25, 0), 0, 0, Vector3.zero, 0.0025, "", 1, 1)
                    task.wait()
                until not ReversalRed
            end)
        elseif Key == "Z" then
            NailGlide = true
            PlayAnimation(4096547618, Enum.AnimationPriority.Action4):Play()
            local NailGlideVelocity = Instance.new("BodyVelocity", Player.Character.Torso)
            NailGlideVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            NailGlideVelocity.P = math.huge
            StandTransparency(0.5)
            repeat
                ReplicatedStorage.ULFDamage:FireServer(Player.Character.Humanoid, game.Players.LocalPlayer.Character["Right Arm"].CFrame * CFrame.new(0, -.25, 0), 20, 0, Vector3.zero, 0.01, "", 0, 0)
                game.ReplicatedStorage.Damage12:FireServer(game.Players.LocalPlayer.Character.Humanoid, game.Players.LocalPlayer.Character["Right Arm"].CFrame * CFrame.new(0, -.25, 0), 0, 0, Vector3.zero, 0.025, "", 1, 1)
                NailGlideVelocity.Velocity = Player.Character.HumanoidRootPart.CFrame.LookVector * 100
                task.wait()
            until NailGlide == false
        elseif Key == "G" then
            Posing = not Posing
            local AuraValue = 0
            local SizeValue = 0
            if Posing then
                Running = false
                StandTransparency(0)
                PlayAnimation(5749788698, Enum.AnimationPriority.Action4):Play()
                Player.Character.Humanoid.WalkSpeed = 0
                AudioValues:PlayAudio(6753817247, 10, true, 1, Player.Character.Torso.CFrame)
                repeat
                    AuraValue += 0.05
                    SizeValue += 0.1
                    ReplicatedStorage.VampireDash:FireServer(BrickColor.new(0, 0, 255))
                    ReplicatedStorage.Damage12Sans:FireServer(Player.Character.Humanoid, Player.Character.HumanoidRootPart.CFrame * CFrame.Angles(math.rad(AuraValue * 100), math.rad(AuraValue * 100), math.rad(AuraValue * 100)) * CFrame.new(4 * math.sin(AuraValue), 0, 4 * math.cos(AuraValue)), 1.e-100, 0, Vector3.zero, math.sin(SizeValue) / 100, "", 0, 0)
                    task.wait()
                until not Posing
            else
                Running = true
                AudioValues:StopAudio(6753817247)
                StopAnimations()
                StandTransparency(1)
            end
        end
    end
end)
UserInputService.InputEnded:Connect(function(Input, IsTyping)
    if not IsTyping and StandMode then
        local Key = Input.KeyCode.Name

        if Key == "E" then
            Barrage = false
            StopAnimations()
        end
    end
end)
UserInputService.InputEnded:Connect(function(Input, IsTyping)
    if not IsTyping and not StandMode then
        local Key = Input.KeyCode.Name

        if Key == "Z" then
            StopAnimations()
            DestroyAllVelocity()
            StandTransparency(1)
            NailGlide = false
        elseif Key == "E" then
            Barrage = false
            StopAnimations()
        elseif Key == "Q" then
            Barrage = false
            StopAnimations()
        elseif Key == "T" then
            ContinueAllAnimations()
            ReversalRed = false
            local Position = (Player.Character.HumanoidRootPart.CFrame * CFrame.new(1, 2, -.5).Position - Player.Character.HumanoidRootPart.CFrame * CFrame.new(1, 2, -35).Position) 
            local ReversalRedHitbox = Instance.new("Part", workspace)
            ReversalRedHitbox.Size = Vector3.new(4, 4, Position.Magnitude)
            ReversalRedHitbox.Anchored = true
            ReversalRedHitbox.CanCollide = false
            ReversalRedHitbox.Transparency = 1
            ReversalRedHitbox.CFrame = Player.Character.HumanoidRootPart.CFrame * CFrame.new(1, 2, -Position.Magnitude / 2) 
            game.Debris:AddItem(ReversalRedHitbox, 3)
            PlayShortAudio(455251724)
            for Time = 0, 1, 1 / Position.Magnitude do
                ReplicatedStorage.CalculatedStrike:FireServer(Player.Character.Humanoid, CFrame.new(Lerp(Player.Character.HumanoidRootPart.CFrame * CFrame.new(1, 2, -.5).Position, Player.Character.HumanoidRootPart.CFrame * CFrame.new(1, 2, -35).Position, Time)), 0.1, 0, Vector3.zero, 0.001, "", 1, 1)
            end
            local HitTable = {}
            task.spawn(function()
                local PartHitbox = workspace:GetPartsInPart(ReversalRedHitbox, Params)
                for Index, Character in pairs(PartHitbox) do
                    if Character.Parent:IsA("Model") and Character.Parent:FindFirstChild('HumanoidRootPart') and Character.Parent:FindFirstChildOfClass("Humanoid") and not table.find(HitTable, Character.Parent) and Character.Parent.Name ~= Player.Character.Name then
                        table.insert(HitTable, Character.Parent)
                        for Index = 1, 20 do
                            ReplicatedStorage.Damage2:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 99, 0, Vector3.zero, 1, "", 1, 1)
                            ReplicatedStorage.Damage31:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 99, 0, Vector3.zero, 1, "", 1, 1)
                            ReplicatedStorage.Damage11:FireServer(Character.Parent.Humanoid, Character.Parent.HumanoidRootPart.CFrame, 99, 0, Vector3.zero, 1, "rbxassetid://4817498564", 1, 10)
                        end
                        task.delay(.1, function()
                            for Index, Table in pairs(HitTable) do
                                table.remove(HitTable, Index)
                            end
                        end)
                    end
                end
            end)
            StopAnimations()
        end
    end
end)
-- <|> EXtrasssaaaa <|> --
for index, Value in pairs(game.Lighting:GetChildren()) do
    if Value:IsA("BoolValue") then
        Value.Changed:Connect(function()
            if Value.Value == true then
                --game.ReplicatedStorage.RTZEffect:FireServer(true)
                Value.Value = false
            end
        end)
    end
end
for index, ColorCorrectionEffect in pairs(game.Lighting:GetChildren()) do
    if ColorCorrectionEffect:IsA("ColorCorrectionEffect") then
        ColorCorrectionEffect.Changed:Connect(function()
            task.wait(10)
            ColorCorrectionEffect.Enabled = false
        end)
    end
end
local blacklist = {
    "stewey"
}
local PlayerBlacklist = false
workspace.Effects.ChildAdded:Connect(function(Object)
    task.wait(2)
    Object:Destroy()
end)
Player.CharacterAdded:Connect(function()
    task.wait(4)
    CharacterAdded()
end)
local GodMode = {
    _OldCFrame = Player.Character.HumanoidRootPart.CFrame
}
RunService.Stepped:Connect(function(Delta)
    if Running then
        Player.Character.Humanoid.WalkSpeed = 30
    end
    workspace.CurrentCamera.FieldOfView = 100
    if ((GodMode._OldCFrame.Position - Player.Character.HumanoidRootPart.Position).Magnitude > 200) or (Player.Character.HumanoidRootPart.AssemblyLinearVelocity.Magnitude >= 225 and Player.Character.HumanoidRootPart.AssemblyLinearVelocity.Magnitude >= 225) or Player.Character.inAu.Value == true then
        Player.Character.HumanoidRootPart.CFrame = GodMode._OldCFrame

        Player.Character.HumanoidRootPart.AssemblyAngularVelocity = Vector3.zero
        Player.Character.HumanoidRootPart.AssemblyLinearVelocity = Vector3.zero

        game.ReplicatedStorage.GetUp:FireServer()
    else
        GodMode._OldCFrame = Player.Character.HumanoidRootPart.CFrame
    end
    for Index, HumanoidRootPart in pairs(workspace.Effects:GetChildren()) do
        if HumanoidRootPart.Name == "HumanoidRootPart" and HumanoidRootPart.RootJoint.Part1 == Player.Character.Torso then
            HumanoidRootPart:Destroy()
        end
    end
    for Index, Part in pairs(Player.Character:GetDescendants()) do
        if Part.ClassName:match("Part") and not Part:IsA("ParticleEmitter") and Part.Anchored == true then
            game.ReplicatedStorage.Anchor:FireServer(Part, false)
        end
    end
    if PlayerBlacklist then
        for Index, PlayerTarget in pairs(game.Players:GetPlayers()) do
            for index = 1, 10 do
                if PlayerTarget.DisplayName:match("YourFinal") then
                    ReplicatedStorage.HamonSword:FireServer(PlayerTarget.Character.Humanoid, 99, 0, Vector3.new(0, 9e99, 0))
                end
            end
        end
    end
	for Index, Entity in pairs(workspace.Entities:GetDescendants()) do
		if Entity.ClassName:match("Part") and Entity.ClassName ~= "ParticleEmitter" and Entity.Parent.Name ~= Player.Character.Name and not Entity.Parent.Name:match("Dummy") then
			Entity.CanCollide = false
		end
	end
	for Index, Velocity in pairs(Player.Character.HumanoidRootPart:GetChildren()) do
		if Velocity.ClassName:match("Body") then
			Velocity:Destroy()
		end
	end
	for Index, StandPart in pairs(Player.Character.Stand:GetDescendants()) do
		if StandPart.ClassName:match("Part") and StandPart.ClassName ~= "ParticleEmitter" and StandPart.Anchored == true then
			StandPart.Anchored = false
            ReplicatedStorage.Anchor:FireServer(StandPart, false)
		end
	end
	for Index, Entity in pairs(workspace.Entities:GetChildren()) do
		if Entity:FindFirstChild("Head") then
			for Index, BillboardGui in pairs(Entity.Head:GetChildren()) do
				if BillboardGui:IsA("BillboardGui") then
                    task.wait(0.3)
					BillboardGui:Destroy()
				end
			end
		end
	end
	if Player.Character.Humanoid.PlatformStand == true then
		ReplicatedStorage.GetUp:FireServer()
		Player.Character.Humanoid:SetStateEnabled(3,true)
		Player.Character.Humanoid.PlatformStand = false
	end
end)

for Index, Entity in pairs(workspace.Entities:GetChildren()) do
    if Entity:FindFirstChild("Head") then
        Entity.Head.ChildAdded:Connect(function(Object)
            if Object.ClassName == "BillboardGui" then
                task.wait(0.3)
                Object:Destroy()
            end
        end)
    end
end
local rotation = 0
local rotation2 = 0
--while true do

--rotation += 100
--rotation2 += 100
--ReplicatedStorage.Damage12Sans:FireServer(Player.Character.Humanoid, Player.Character.HumanoidRootPart.CFrame * CFrame.new(4 * math.sin(rotation), -1.5, 4 * math.cos(rotation)), 0.0000001, 0, Vector3.zero, 0.0075, "", 0, 0)
--ReplicatedStorage.Damage12:FireServer(Player.Character.Humanoid, Player.Character.HumanoidRootPart.CFrame * CFrame.new(3 * -math.cos(rotation2), -1.5, 3 * -math.sin(rotation2)), 0.0000001, 0, Vector3.zero, 0.0075, "", 0, 0)
--task.wait()
--end
